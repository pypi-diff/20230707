# Comparing `tmp/autonomi_nos-0.0.6-py3-none-any.whl.zip` & `tmp/autonomi_nos-0.0.6a1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,14 +1,14 @@
-Zip file size: 76244 bytes, number of entries: 64
+Zip file size: 76103 bytes, number of entries: 64
 -rw-rw-r--  2.0 unx      164 b- defN 23-Jul-06 04:43 nos/__init__.py
 -rw-rw-r--  2.0 unx      561 b- defN 23-Jul-06 04:43 nos/constants.py
 -rw-rw-r--  2.0 unx       93 b- defN 23-Jul-06 04:43 nos/exceptions.py
 -rw-rw-r--  2.0 unx      940 b- defN 23-Jul-06 04:43 nos/logging.py
 -rw-rw-r--  2.0 unx     2778 b- defN 23-Jul-06 04:43 nos/protoc.py
--rw-rw-r--  2.0 unx       22 b- defN 23-Jul-07 01:03 nos/version.py
+-rw-rw-r--  2.0 unx       24 b- defN 23-Jul-06 04:43 nos/version.py
 -rw-rw-r--  2.0 unx      369 b- defN 23-Jul-06 04:43 nos/cli/cli.py
 -rw-rw-r--  2.0 unx     4230 b- defN 23-Jul-06 04:43 nos/cli/docker.py
 -rw-rw-r--  2.0 unx     1294 b- defN 23-Jul-06 04:43 nos/cli/hub.py
 -rw-rw-r--  2.0 unx     7543 b- defN 23-Jul-06 04:43 nos/cli/predict.py
 -rw-rw-r--  2.0 unx     5962 b- defN 23-Jul-06 04:43 nos/cli/serve_http.py
 -rw-rw-r--  2.0 unx     1713 b- defN 23-Jul-06 04:43 nos/cli/system.py
 -rw-rw-r--  2.0 unx      425 b- defN 23-Jul-06 04:43 nos/cli/utils.py
@@ -46,21 +46,21 @@
 -rw-rw-r--  2.0 unx     3187 b- defN 23-Jul-06 04:43 nos/models/openmmlab/mmdetection/configs/_base_/datasets/coco_detection.py
 -rw-rw-r--  2.0 unx     1765 b- defN 23-Jul-06 04:43 nos/models/openmmlab/mmdetection/configs/_base_/datasets/coco_instance.py
 -rw-rw-r--  2.0 unx     3828 b- defN 23-Jul-06 04:43 nos/models/openmmlab/mmdetection/configs/_base_/models/faster-rcnn_r50_fpn.py
 -rw-rw-r--  2.0 unx      304 b- defN 23-Jul-06 04:43 nos/models/openmmlab/mmdetection/configs/_base_/schedules/schedule_1x.py
 -rw-rw-r--  2.0 unx     5340 b- defN 23-Jul-06 04:43 nos/models/openmmlab/mmdetection/configs/efficientdet/efficientdet_effb3_bifpn_8xb16-crop896-300e_coco.py
 -rw-rw-r--  2.0 unx      177 b- defN 23-Jul-06 04:43 nos/models/openmmlab/mmdetection/configs/faster-rcnn/faster-rcnn_r50_fpn_1x_coco.py
 -rw-rw-r--  2.0 unx     2437 b- defN 23-Jul-06 04:43 nos/proto/nos_service.proto
--rw-rw-r--  2.0 unx     6946 b- defN 23-Jul-07 00:51 nos/server/__init__.py
+-rw-rw-r--  2.0 unx     6193 b- defN 23-Jul-06 04:43 nos/server/__init__.py
 -rw-rw-r--  2.0 unx     6556 b- defN 23-Jul-06 04:43 nos/server/docker.py
 -rw-rw-r--  2.0 unx     6363 b- defN 23-Jul-06 04:43 nos/server/runtime.py
 -rw-rw-r--  2.0 unx     7326 b- defN 23-Jul-06 04:43 nos/server/service.py
 -rw-rw-r--  2.0 unx      373 b- defN 23-Jul-06 04:43 nos/test/benchmark.py
 -rw-rw-r--  2.0 unx     4252 b- defN 23-Jul-06 04:43 nos/test/conftest.py
 -rw-rw-r--  2.0 unx     2626 b- defN 23-Jul-06 04:43 nos/test/utils.py
--rw-rw-r--  2.0 unx     1068 b- defN 23-Jul-07 01:30 autonomi_nos-0.0.6.dist-info/LICENSE
--rw-rw-r--  2.0 unx     6802 b- defN 23-Jul-07 01:30 autonomi_nos-0.0.6.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-Jul-07 01:30 autonomi_nos-0.0.6.dist-info/WHEEL
--rw-rw-r--  2.0 unx       86 b- defN 23-Jul-07 01:30 autonomi_nos-0.0.6.dist-info/entry_points.txt
--rw-rw-r--  2.0 unx        4 b- defN 23-Jul-07 01:30 autonomi_nos-0.0.6.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     5429 b- defN 23-Jul-07 01:30 autonomi_nos-0.0.6.dist-info/RECORD
-64 files, 215119 bytes uncompressed, 67620 bytes compressed:  68.6%
+-rw-rw-r--  2.0 unx     1068 b- defN 23-Jul-06 05:58 autonomi_nos-0.0.6a1.dist-info/LICENSE
+-rw-rw-r--  2.0 unx     6804 b- defN 23-Jul-06 05:58 autonomi_nos-0.0.6a1.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-Jul-06 05:58 autonomi_nos-0.0.6a1.dist-info/WHEEL
+-rw-rw-r--  2.0 unx       86 b- defN 23-Jul-06 05:58 autonomi_nos-0.0.6a1.dist-info/entry_points.txt
+-rw-rw-r--  2.0 unx        4 b- defN 23-Jul-06 05:58 autonomi_nos-0.0.6a1.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     5441 b- defN 23-Jul-06 05:58 autonomi_nos-0.0.6a1.dist-info/RECORD
+64 files, 214382 bytes uncompressed, 67455 bytes compressed:  68.5%
```

## zipnote {}

```diff
@@ -168,26 +168,26 @@
 
 Filename: nos/test/conftest.py
 Comment: 
 
 Filename: nos/test/utils.py
 Comment: 
 
-Filename: autonomi_nos-0.0.6.dist-info/LICENSE
+Filename: autonomi_nos-0.0.6a1.dist-info/LICENSE
 Comment: 
 
-Filename: autonomi_nos-0.0.6.dist-info/METADATA
+Filename: autonomi_nos-0.0.6a1.dist-info/METADATA
 Comment: 
 
-Filename: autonomi_nos-0.0.6.dist-info/WHEEL
+Filename: autonomi_nos-0.0.6a1.dist-info/WHEEL
 Comment: 
 
-Filename: autonomi_nos-0.0.6.dist-info/entry_points.txt
+Filename: autonomi_nos-0.0.6a1.dist-info/entry_points.txt
 Comment: 
 
-Filename: autonomi_nos-0.0.6.dist-info/top_level.txt
+Filename: autonomi_nos-0.0.6a1.dist-info/top_level.txt
 Comment: 
 
-Filename: autonomi_nos-0.0.6.dist-info/RECORD
+Filename: autonomi_nos-0.0.6a1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## nos/version.py

```diff
@@ -1 +1 @@
-__version__ = "0.0.6"
+__version__ = "0.0.6a1"
```

## nos/server/__init__.py

```diff
@@ -17,41 +17,35 @@
         utilization (float, optional): The target cpu/memory utilization of inference server. Defaults to 0.8.
         pull (bool, optional): Pull the docker image before starting the inference server. Defaults to True.
     """
     import math
 
     import psutil
 
-    from nos.common.system import get_system_info, has_docker, has_gpu
+    from nos.common.system import get_system_info, has_gpu
     from nos.logging import logger
-    from nos.server.runtime import DockerRuntime, InferenceServiceRuntime
+    from nos.server.runtime import InferenceServiceRuntime
 
     _MIN_NUM_CPUS = 4
     _MIN_MEM_GB = 6
     _MIN_SHMEM_GB = 4
 
     def _check_system_requirements():
-        if not has_docker():
-            raise RuntimeError("Docker not found, please install docker before proceeding.")
-
         # For now, we require at least 4 physical CPU cores and 6 GB of free memory
-        cl = DockerRuntime.get()._client
-        num_cpus = cl.info().get("NCPU", psutil.cpu_count(logical=False))
-        mem_avail = (
-            min(cl.info().get("MemTotal", psutil.virtual_memory().total), psutil.virtual_memory().available)
-            / 1024**3
-        )
-        logger.debug(f"Checking system requirements: [num_cpus={num_cpus}, mem_avail={mem_avail:.1f}GB]")
-        if num_cpus < _MIN_NUM_CPUS:
+        sysinfo = get_system_info()
+        num_cpus = sysinfo["cpu"]["cores"]["physical"]
+        mem_gb = sysinfo["memory"]["available"] / 1024**3
+
+        if num_cpus <= _MIN_NUM_CPUS:
             raise ValueError(
                 f"Insufficient number of physical CPU cores ({num_cpus} cores), at least 4 cores required."
             )
-        if mem_avail < _MIN_MEM_GB:
+        if mem_gb <= _MIN_MEM_GB:
             raise ValueError(
-                f"Insufficient available system memory ({mem_avail:.1f}GB), at least 6 GB of free memory required."
+                f"Insufficient available system memory ({mem_gb:.1}GB), at least 6 GB of free memory required."
             )
 
     # Check system requirements
     _check_system_requirements()
 
     # Check if inference server is already running
     containers = InferenceServiceRuntime.list()
@@ -77,23 +71,16 @@
         _pull_image(InferenceServiceRuntime.configs[runtime].image)
 
     # Start inference server
     runtime = InferenceServiceRuntime(runtime=runtime)
     logger.info(f"Starting inference service: [name={runtime.cfg.name}, runtime={runtime}]")
 
     # Determine number of cpus, system memory before starting container
-    # Note (spillai): MacOSX compatibility issue where docker does not have access to
-    # the correct number of physical cores and memory.
-    cl = DockerRuntime.get()._client
-    num_cpus = cl.info().get("NCPU", psutil.cpu_count(logical=False))
-    num_cpus = max(_MIN_NUM_CPUS, utilization * num_cpus)
-    mem_limit = (
-        min(cl.info().get("MemTotal", psutil.virtual_memory().total), psutil.virtual_memory().available) / 1024**3
-    )
-    mem_limit = max(_MIN_MEM_GB, utilization * math.floor(mem_limit))
+    num_cpus = max(_MIN_NUM_CPUS, utilization * psutil.cpu_count(logical=False))
+    mem_limit = max(_MIN_MEM_GB, utilization * math.floor(psutil.virtual_memory().available / 1024**3))
     logger.debug(f"Starting inference container: [num_cpus={num_cpus}, mem_limit={mem_limit}g]")
 
     # Start container
     container = runtime.start(
         nano_cpus=int(num_cpus * 1e9),
         mem_limit=f"{mem_limit}g",
         shm_size=f"{_MIN_SHMEM_GB}g",
@@ -143,20 +130,20 @@
         try:
             logger.info(f"Pulling new server image: {image} (this may take a while).")
             # use subprocess to pull image and stream output
             proc = subprocess.Popen(
                 f"docker pull {image}", stdout=subprocess.PIPE, stderr=subprocess.STDOUT, shell=True
             )
             status_q = deque(maxlen=25)
-            status_str = f"Pulling new server image: {image} (this may take a while)."
-            with rich.status.Status("[bold white]" + status_str + "[/bold white]") as status:
+            status_str = "Pulling new server image: {image} (this may take a while)."
+            with rich.status.Status(status_str) as status:
                 while proc.stdout.readable():
                     line = proc.stdout.readline()
                     if not line:
                         break
                     status_q.append(line.decode("utf-8").strip())
-                    status.update("[bold white]" + f"{status_str}\n\t" + "\n\t".join(status_q) + "[/bold white]")
+                    status.update("[bold yellow]" + f"{status_str}\n\t" + "\n\t".join(status_q) + "[/bold yellow]")
             proc.wait()
             logger.info(f"Pulled new server image: {image}")
         except (docker.errors.APIError, docker.errors.DockerException) as exc:
             logger.error(f"Failed to pull image: {image}, exiting early: {exc}")
             raise Exception(f"Failed to pull image: {image}, please mnaully pull image via `docker pull {image}`")
```

## Comparing `autonomi_nos-0.0.6.dist-info/LICENSE` & `autonomi_nos-0.0.6a1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `autonomi_nos-0.0.6.dist-info/METADATA` & `autonomi_nos-0.0.6a1.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: autonomi-nos
-Version: 0.0.6
+Version: 0.0.6a1
 Summary: Nitrous oxide system (NOS) for computer-vision.
 License: MIT License
         
         Copyright (c) 2023 Autonomi AI
         
         Permission is hereby granted, free of charge, to any person obtaining a copy
         of this software and associated documentation files (the "Software"), to deal
```

## Comparing `autonomi_nos-0.0.6.dist-info/RECORD` & `autonomi_nos-0.0.6a1.dist-info/RECORD`

 * *Files 10% similar despite different names*

```diff
@@ -1,13 +1,13 @@
 nos/__init__.py,sha256=hZuUzrXY9Px7KEt6deoV_-NKYiXLF_jtlQVA5hIPV0s,164
 nos/constants.py,sha256=j-nz48q31rE7eclMqkZH6xFJ0eGmtx2Jt5yr_wQA_1Y,561
 nos/exceptions.py,sha256=ocRCxTbzT_Q8WTobAbkbo4jl5a6F3xC_D2N7rtzfWeg,93
 nos/logging.py,sha256=D0QDNFGmAYshfnSC-ctEDSIeBO6TnLPz1babUmJGRSA,940
 nos/protoc.py,sha256=xUck1U30UqUEnTaFuWMGWagyDcIrjmcQo8xozqbypmI,2778
-nos/version.py,sha256=QiiYsv0kcJaB8wCWyT-FnI2b6be87HA-CrrIUn8LQhg,22
+nos/version.py,sha256=gXd1D56xj6WOvmCczvF5j2U21R-6e_8jAsOhKTHAwGk,24
 nos/cli/cli.py,sha256=59Q5GUat7rQsNZco1JX27l1W6KCYfri8ctAGvOuFzec,369
 nos/cli/docker.py,sha256=SDGg8b343r6ndzmyESGbHLQx7EjGwkV2Plo025Y-U5A,4230
 nos/cli/hub.py,sha256=USdzVgaZlPZABrrIZzCA7ySwXg1iseEk7GJ7iwanXIg,1294
 nos/cli/predict.py,sha256=eo9Fc2ZmzaA6z1QenacKIYHMX4DYwCnIQHf3XTpyMho,7543
 nos/cli/serve_http.py,sha256=xMwSE46-_uHLgif1gnJCRoLbBE3ttC2zkm2JXVooWg0,5962
 nos/cli/system.py,sha256=MyVBcPZDlpiAJHhdK4JiFKyTJfD1iez3JzLvG6lsMAw,1713
 nos/cli/utils.py,sha256=uR1lGZyyDEuflNvxKuAmVUP-DTE55PzZL5c0c3l2h4U,425
@@ -45,20 +45,20 @@
 nos/models/openmmlab/mmdetection/configs/_base_/datasets/coco_detection.py,sha256=MxNi_Sf1m8CNkR64vZWaFN2O2P2LBI1-EexpLr166YU,3187
 nos/models/openmmlab/mmdetection/configs/_base_/datasets/coco_instance.py,sha256=DVkj2zskGrXxiF6hVQ1ofsOsqQGHsdjAh5sXRkaxjiw,1765
 nos/models/openmmlab/mmdetection/configs/_base_/models/faster-rcnn_r50_fpn.py,sha256=Al2qpY2P-MzsfBCod5pjB6HrH7ZzFvQxICc1CVmpnRY,3828
 nos/models/openmmlab/mmdetection/configs/_base_/schedules/schedule_1x.py,sha256=G8gXisLhM7mBRlxrhTOLCsWD17zCyH7kBvVi7J4BICI,304
 nos/models/openmmlab/mmdetection/configs/efficientdet/efficientdet_effb3_bifpn_8xb16-crop896-300e_coco.py,sha256=RSkd9o1IO-YkWhIwnXU83tRyGeySiR1IMlSk14dTw9s,5340
 nos/models/openmmlab/mmdetection/configs/faster-rcnn/faster-rcnn_r50_fpn_1x_coco.py,sha256=Cm8lyQ3wOT5I9KR0m1TfTsPAGybs-buILRPLDZKzOPQ,177
 nos/proto/nos_service.proto,sha256=BEWdRsehHLaSjH2K2QEhtmaDqkwDZYdxKm1t4yg_0V8,2437
-nos/server/__init__.py,sha256=aJTC-mkOEVld5PtsC4FP-wPs80cCjrTGEF9BIxFH8yA,6946
+nos/server/__init__.py,sha256=5RiKswYy4smsuFOVba9Rq3beaeI5Mifwxdfi0mODH5M,6193
 nos/server/docker.py,sha256=XvubrQzj1XgYH-QDOWPG5SIBy3fhoexFn_mW6bKZk_M,6556
 nos/server/runtime.py,sha256=maiFx1bpygU17ZOdJr5T2wu5kRahM4kP2R1B2Uj7X04,6363
 nos/server/service.py,sha256=k2Xkv-uNnEm9AlMGcSHy-dL81uKQqyyf8O2u__ak3-4,7326
 nos/test/benchmark.py,sha256=b_QMHfStY5iRjHGPZwaY7VrXzy_VeFKfjld9UEVbn-g,373
 nos/test/conftest.py,sha256=-NWElgDWfFZpYwmGk1WpSB9JCAtZz3gKx1DJhDivoPs,4252
 nos/test/utils.py,sha256=bi-aoXsTmDiwmwlWVyhznW_ZS7k7N9bZJuq-QuMz2OA,2626
-autonomi_nos-0.0.6.dist-info/LICENSE,sha256=9TQFxQ2AkXOQuIHy9GueB_a18hayRXT7pDt9fJv9WLo,1068
-autonomi_nos-0.0.6.dist-info/METADATA,sha256=Qg9IWKhNkUmo_2heK4PHLVZ6N_Cqwo4oT_APwb_gSxA,6802
-autonomi_nos-0.0.6.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-autonomi_nos-0.0.6.dist-info/entry_points.txt,sha256=UYtJAmFT3RPWmlKM11MMZvZPRHTeKyIh1BbZ3QpbsJs,86
-autonomi_nos-0.0.6.dist-info/top_level.txt,sha256=Tgqk49XI1nXvi6W_Ryy7_YwQ7iFU-mAlIsbNMR1HS6s,4
-autonomi_nos-0.0.6.dist-info/RECORD,,
+autonomi_nos-0.0.6a1.dist-info/LICENSE,sha256=9TQFxQ2AkXOQuIHy9GueB_a18hayRXT7pDt9fJv9WLo,1068
+autonomi_nos-0.0.6a1.dist-info/METADATA,sha256=A1QLJKOL6vuRkxoahpJfWCNkhWVReb6qYaAF3zOTcgM,6804
+autonomi_nos-0.0.6a1.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+autonomi_nos-0.0.6a1.dist-info/entry_points.txt,sha256=UYtJAmFT3RPWmlKM11MMZvZPRHTeKyIh1BbZ3QpbsJs,86
+autonomi_nos-0.0.6a1.dist-info/top_level.txt,sha256=Tgqk49XI1nXvi6W_Ryy7_YwQ7iFU-mAlIsbNMR1HS6s,4
+autonomi_nos-0.0.6a1.dist-info/RECORD,,
```

