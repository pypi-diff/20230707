# Comparing `tmp/secretflow_rayfed-0.1.1a3-py3-none-any.whl.zip` & `tmp/secretflow_rayfed-0.1.1a4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,26 +1,26 @@
-Zip file size: 34805 bytes, number of entries: 24
--rw-rw-r--  2.0 unx      853 b- defN 23-Mar-17 03:18 fed/__init__.py
--rw-rw-r--  2.0 unx    15277 b- defN 23-Mar-21 03:11 fed/api.py
--rw-rw-r--  2.0 unx    15513 b- defN 23-Mar-21 03:11 fed/barriers.py
--rw-rw-r--  2.0 unx     2933 b- defN 23-Mar-17 03:18 fed/cleanup.py
--rw-rw-r--  2.0 unx     1745 b- defN 23-Mar-21 03:11 fed/config.py
+Zip file size: 34848 bytes, number of entries: 24
+-rw-rw-r--  2.0 unx      853 b- defN 23-Jul-07 03:44 fed/__init__.py
+-rw-rw-r--  2.0 unx    15277 b- defN 23-Jul-07 03:44 fed/api.py
+-rw-rw-r--  2.0 unx    15513 b- defN 23-Jul-07 03:44 fed/barriers.py
+-rw-rw-r--  2.0 unx     3025 b- defN 23-Jul-07 03:44 fed/cleanup.py
+-rw-rw-r--  2.0 unx     1745 b- defN 23-Jul-07 03:44 fed/config.py
 -rw-rw-r--  2.0 unx     2877 b- defN 23-Mar-17 03:18 fed/fed_object.py
--rw-rw-r--  2.0 unx     4806 b- defN 23-Mar-17 03:18 fed/utils.py
+-rw-rw-r--  2.0 unx     4806 b- defN 23-Jul-07 03:44 fed/utils.py
 -rw-rw-r--  2.0 unx      581 b- defN 23-Mar-17 03:18 fed/_private/__init__.py
 -rw-rw-r--  2.0 unx      581 b- defN 23-Mar-17 03:18 fed/_private/api.py
--rw-rw-r--  2.0 unx     4487 b- defN 23-Mar-17 03:18 fed/_private/compatible_utils.py
--rw-rw-r--  2.0 unx     1227 b- defN 23-Mar-21 03:11 fed/_private/constants.py
+-rw-rw-r--  2.0 unx     4487 b- defN 23-Jul-07 03:44 fed/_private/compatible_utils.py
+-rw-rw-r--  2.0 unx     1227 b- defN 23-Jul-07 03:44 fed/_private/constants.py
 -rw-rw-r--  2.0 unx     3837 b- defN 23-Mar-17 03:18 fed/_private/fed_actor.py
--rw-rw-r--  2.0 unx     3813 b- defN 23-Mar-17 03:18 fed/_private/fed_call_holder.py
--rw-rw-r--  2.0 unx      933 b- defN 23-Mar-17 03:18 fed/_private/global_context.py
--rw-rw-r--  2.0 unx     2859 b- defN 23-Mar-17 03:18 fed/_private/grpc_options.py
+-rw-rw-r--  2.0 unx     3813 b- defN 23-Jul-07 03:44 fed/_private/fed_call_holder.py
+-rw-rw-r--  2.0 unx      933 b- defN 23-Jul-07 03:44 fed/_private/global_context.py
+-rw-rw-r--  2.0 unx     2859 b- defN 23-Jul-07 03:44 fed/_private/grpc_options.py
 -rw-rw-r--  2.0 unx     2386 b- defN 23-Mar-17 03:18 fed/_private/serialization_utils.py
 -rw-rw-r--  2.0 unx      581 b- defN 23-Mar-17 03:18 fed/grpc/__init__.py
 -rw-rw-r--  2.0 unx     5608 b- defN 23-Mar-17 03:18 fed/grpc/fed_pb2.py
 -rw-rw-r--  2.0 unx     2955 b- defN 23-Mar-17 03:18 fed/grpc/fed_pb2_grpc.py
--rw-rw-r--  2.0 unx    11356 b- defN 23-Mar-21 03:19 secretflow_rayfed-0.1.1a3.dist-info/LICENSE
--rw-rw-r--  2.0 unx     7193 b- defN 23-Mar-21 03:19 secretflow_rayfed-0.1.1a3.dist-info/METADATA
--rw-rw-r--  2.0 unx       92 b- defN 23-Mar-21 03:19 secretflow_rayfed-0.1.1a3.dist-info/WHEEL
--rw-rw-r--  2.0 unx        4 b- defN 23-Mar-21 03:19 secretflow_rayfed-0.1.1a3.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     1934 b- defN 23-Mar-21 03:19 secretflow_rayfed-0.1.1a3.dist-info/RECORD
-24 files, 94431 bytes uncompressed, 31705 bytes compressed:  66.4%
+-rw-rw-r--  2.0 unx    11356 b- defN 23-Jul-07 03:45 secretflow_rayfed-0.1.1a4.dist-info/LICENSE
+-rw-rw-r--  2.0 unx     7213 b- defN 23-Jul-07 03:45 secretflow_rayfed-0.1.1a4.dist-info/METADATA
+-rw-rw-r--  2.0 unx       92 b- defN 23-Jul-07 03:45 secretflow_rayfed-0.1.1a4.dist-info/WHEEL
+-rw-rw-r--  2.0 unx        4 b- defN 23-Jul-07 03:45 secretflow_rayfed-0.1.1a4.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     1934 b- defN 23-Jul-07 03:45 secretflow_rayfed-0.1.1a4.dist-info/RECORD
+24 files, 94543 bytes uncompressed, 31748 bytes compressed:  66.4%
```

## zipnote {}

```diff
@@ -51,23 +51,23 @@
 
 Filename: fed/grpc/fed_pb2.py
 Comment: 
 
 Filename: fed/grpc/fed_pb2_grpc.py
 Comment: 
 
-Filename: secretflow_rayfed-0.1.1a3.dist-info/LICENSE
+Filename: secretflow_rayfed-0.1.1a4.dist-info/LICENSE
 Comment: 
 
-Filename: secretflow_rayfed-0.1.1a3.dist-info/METADATA
+Filename: secretflow_rayfed-0.1.1a4.dist-info/METADATA
 Comment: 
 
-Filename: secretflow_rayfed-0.1.1a3.dist-info/WHEEL
+Filename: secretflow_rayfed-0.1.1a4.dist-info/WHEEL
 Comment: 
 
-Filename: secretflow_rayfed-0.1.1a3.dist-info/top_level.txt
+Filename: secretflow_rayfed-0.1.1a4.dist-info/top_level.txt
 Comment: 
 
-Filename: secretflow_rayfed-0.1.1a3.dist-info/RECORD
+Filename: secretflow_rayfed-0.1.1a4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## fed/cleanup.py

```diff
@@ -60,16 +60,14 @@
             res = False
         if not res and get_exit_when_failure_sending():
             logger.warn('Signal self to exit.')
             _signal_exit()
             break
 
     logger.info('Check sending thread was exited.')
-    global _check_send_thread
-    _check_send_thread = None
 
 
 def _main_thread_monitor():
     main_thread = threading.main_thread()
     main_thread.join()
     notify_to_exit()
 
@@ -104,7 +102,11 @@
 
 
 def wait_sending():
     global _check_send_thread
     if _check_send_thread:
         notify_to_exit()
         _check_send_thread.join()
+        _check_send_thread = None
+        logger.info('Clearing sending queue.')
+        global _sending_obj_refs_q
+        _sending_obj_refs_q.clear()
```

## Comparing `secretflow_rayfed-0.1.1a3.dist-info/LICENSE` & `secretflow_rayfed-0.1.1a4.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `secretflow_rayfed-0.1.1a3.dist-info/METADATA` & `secretflow_rayfed-0.1.1a4.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,15 +1,16 @@
 Metadata-Version: 2.1
 Name: secretflow-rayfed
-Version: 0.1.1a3
+Version: 0.1.1a4
 Summary: A multiple parties joint, distributed execution engine based on Ray,to help build your own federated learning frameworks in minutes.
 Home-page: https://github.com/ray-project/rayfed
 Author: RayFed Team
 Author-email: rayfed-dev@googlegroups.com
 License: Apache 2.0
+Platform: UNKNOWN
 Description-Content-Type: text/markdown
 License-File: LICENSE
 Requires-Dist: jax (>=0.3.0)
 Requires-Dist: jaxlib (>=0.3.0)
 Requires-Dist: cloudpickle
 Requires-Dist: protobuf
 Requires-Dist: secretflow-ray (>=2.1.0)
@@ -201,7 +202,9 @@
 Then you will get `The result in party alice is 5` on the first terminal screen and `The result in party bob is 5` on the second terminal screen.
 
 Figure shows the execution under the hood:
 ![ppeH68x.png](https://s1.ax1x.com/2023/03/08/ppeH68x.png)
 
 ## Running untrusted codes
 As a general rule: Always execute untrusted codes inside a sandbox (e.g., [nsjail](https://github.com/google/nsjail)).
+
+
```

## Comparing `secretflow_rayfed-0.1.1a3.dist-info/RECORD` & `secretflow_rayfed-0.1.1a4.dist-info/RECORD`

 * *Files 10% similar despite different names*

```diff
@@ -1,11 +1,11 @@
 fed/__init__.py,sha256=6Xds1gLndBN-E4GBTuxnc7gf3Zw_D8iNejjA3JTjWnc,853
 fed/api.py,sha256=EtcFX22S0gb9jmlN_0zcnpLJUE-K9PkcXyETbP7LHYg,15277
 fed/barriers.py,sha256=_ZWzDqaiKNrx9HGt_Yw4b-483r_yR3pqKB_xlv7JarM,15513
-fed/cleanup.py,sha256=5P_Z6nX7GqB6WbHt1b8oVhNdUfYVRhclDdgUNt5weK0,2933
+fed/cleanup.py,sha256=t0ftotRE2wYakf399mRtFRPiEzknQviaguNvsZJ4Q_U,3025
 fed/config.py,sha256=qB54s-COypgD6LtI3QypwkMK6RR7gM63HZt6YgiMHMA,1745
 fed/fed_object.py,sha256=l2BRa9WZ3jqXSDjwFPURcAIK8XkH8A5UYA_OcY4TOD0,2877
 fed/utils.py,sha256=6Xguz67MpUdprvTaaQWIrnZk9o3MYTQy2K2sc9-LGyk,4806
 fed/_private/__init__.py,sha256=MDXwlZ-y7_o-tfqh8DVkjlO-6MlWqwLdbSIZUJfXtF0,581
 fed/_private/api.py,sha256=MDXwlZ-y7_o-tfqh8DVkjlO-6MlWqwLdbSIZUJfXtF0,581
 fed/_private/compatible_utils.py,sha256=ZhaLX797pZ-PnwlNIMgRzkwrysW0wbruQLHm-WsNUUs,4487
 fed/_private/constants.py,sha256=Gx3BCM6ti1VJWsnaN3oYhklIEvfYm9TkCDXCbRmziVw,1227
@@ -13,12 +13,12 @@
 fed/_private/fed_call_holder.py,sha256=RqxDPW1enEWA0wmYnqFcHC_xY45M-Lagite6QPIy4n4,3813
 fed/_private/global_context.py,sha256=QUEE9RttgdWOHvXZsycKnxeMTKo1E0nGp7Zyxnxb_Zw,933
 fed/_private/grpc_options.py,sha256=_r43xjQfg0JmD0T447wHV42EYhP0YpBubsGKG22TuN4,2859
 fed/_private/serialization_utils.py,sha256=l63nacVabcyKpys9tVT2zUMmKecimeVflsJ6v45AYvc,2386
 fed/grpc/__init__.py,sha256=MDXwlZ-y7_o-tfqh8DVkjlO-6MlWqwLdbSIZUJfXtF0,581
 fed/grpc/fed_pb2.py,sha256=CKRJyBIx8MG4XtqtARL9ETFEyIsX2ksO0IVU9JgBhWQ,5608
 fed/grpc/fed_pb2_grpc.py,sha256=PsTotUwY4gEHWV0gQnPwpoQWdNJCczNZti6bJBYFj5Q,2955
-secretflow_rayfed-0.1.1a3.dist-info/LICENSE,sha256=QwcOLU5TJoTeUhuIXzhdCEEDDvorGiC6-3YTOl4TecE,11356
-secretflow_rayfed-0.1.1a3.dist-info/METADATA,sha256=J9WtGHEfLaZWQN_QhKA4ps5-RZgHlFp2WwKoIaP2i-o,7193
-secretflow_rayfed-0.1.1a3.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-secretflow_rayfed-0.1.1a3.dist-info/top_level.txt,sha256=5gd1qhbpzLAi36ONV8p_s65_-iAiOSwFljYh-ONEwts,4
-secretflow_rayfed-0.1.1a3.dist-info/RECORD,,
+secretflow_rayfed-0.1.1a4.dist-info/LICENSE,sha256=QwcOLU5TJoTeUhuIXzhdCEEDDvorGiC6-3YTOl4TecE,11356
+secretflow_rayfed-0.1.1a4.dist-info/METADATA,sha256=1vUxpg7dOLobRPouYemvvDnD76SC-RH7Pss1hxZvYsk,7213
+secretflow_rayfed-0.1.1a4.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+secretflow_rayfed-0.1.1a4.dist-info/top_level.txt,sha256=5gd1qhbpzLAi36ONV8p_s65_-iAiOSwFljYh-ONEwts,4
+secretflow_rayfed-0.1.1a4.dist-info/RECORD,,
```

