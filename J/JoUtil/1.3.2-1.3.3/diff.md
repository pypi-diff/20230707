# Comparing `tmp/JoUtil-1.3.2-py3-none-any.whl.zip` & `tmp/JoUtil-1.3.3-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,8 +1,8 @@
-Zip file size: 10388148 bytes, number of entries: 106
+Zip file size: 10388334 bytes, number of entries: 106
 -rw-rw-rw-  2.0 fat      235 b- defN 20-Sep-22 08:54 JoTools/__init__.py
 -rw-rw-rw-  2.0 fat    40994 b- defN 23-Apr-25 10:44 JoTools/operateDeteRes.py
 -rw-rw-rw-  2.0 fat     9076 b- defN 21-Dec-14 11:48 JoTools/for_csdn/find_same_img/find_same_img.py
 -rw-rw-rw-  2.0 fat     1787 b- defN 21-Jul-21 09:11 JoTools/for_csdn/the_art_of_war/the_art_of_war.py
 -rw-rw-rw-  2.0 fat    22538 b- defN 21-Jul-21 09:11 JoTools/for_csdn/the_art_of_war/data/the_art_of_war.txt
 -rw-rw-rw-  2.0 fat    22837 b- defN 21-Jul-29 01:31 JoTools/for_csdn/the_art_of_war/data/the_art_of_war_line.txt
 -rw-rw-rw-  2.0 fat     1497 b- defN 22-Aug-22 10:30 JoTools/for_csdn/word_pic/ucd_say.py
@@ -34,15 +34,15 @@
 -rw-rw-rw-  2.0 fat     7446 b- defN 22-Jun-08 08:46 JoTools/txkj/ucGenerator.py
 -rw-rw-rw-  2.0 fat     1100 b- defN 23-May-11 02:07 JoTools/txkj/xml_to_yolo.py
 -rw-rw-rw-  2.0 fat    11730 b- defN 21-Dec-18 07:07 JoTools/txkjRes/AllRes.py
 -rw-rw-rw-  2.0 fat      353 b- defN 21-Jul-21 09:11 JoTools/txkjRes/__init__.py
 -rw-rw-rw-  2.0 fat      447 b- defN 22-Mar-26 01:28 JoTools/txkjRes/configOpt.py
 -rw-rw-rw-  2.0 fat     5952 b- defN 22-Mar-03 06:08 JoTools/txkjRes/deteAngleObj.py
 -rw-rw-rw-  2.0 fat    13235 b- defN 22-Apr-21 08:44 JoTools/txkjRes/deteObj.py
--rw-rw-rw-  2.0 fat    79724 b- defN 23-May-29 06:17 JoTools/txkjRes/deteRes.py
+-rw-rw-rw-  2.0 fat    80607 b- defN 23-Jul-06 06:52 JoTools/txkjRes/deteRes.py
 -rw-rw-rw-  2.0 fat     7181 b- defN 21-Jul-21 09:11 JoTools/txkjRes/deteSegmentObj.py
 -rw-rw-rw-  2.0 fat    13005 b- defN 23-Feb-25 05:54 JoTools/txkjRes/deteXml.py
 -rw-rw-rw-  2.0 fat      151 b- defN 21-Dec-15 02:21 JoTools/txkjRes/lineRes.py
 -rw-rw-rw-  2.0 fat     2523 b- defN 22-Jan-05 07:36 JoTools/txkjRes/parseJson.py
 -rw-rw-rw-  2.0 fat    10124 b- defN 22-Jan-04 06:12 JoTools/txkjRes/pointRes.py
 -rw-rw-rw-  2.0 fat       99 b- defN 21-Dec-15 01:50 JoTools/txkjRes/pointXml.py
 -rw-rw-rw-  2.0 fat     3066 b- defN 23-Jun-05 11:52 JoTools/txkjRes/postUtil.py
@@ -97,12 +97,12 @@
 -rw-rw-rw-  2.0 fat     1119 b- defN 23-Apr-24 07:26 JoTools/utils/TimeUtil.py
 -rw-rw-rw-  2.0 fat     1976 b- defN 22-Oct-22 02:20 JoTools/utils/TxtUtil.py
 -rw-rw-rw-  2.0 fat     8044 b- defN 23-May-11 04:00 JoTools/utils/VideoUtilCV.py
 -rw-rw-rw-  2.0 fat     5034 b- defN 22-Feb-23 07:36 JoTools/utils/XmlUtil.py
 -rw-rw-rw-  2.0 fat      405 b- defN 22-Sep-16 03:58 JoTools/utils/YamlUtil.py
 -rw-rw-rw-  2.0 fat     2614 b- defN 21-Jul-21 09:11 JoTools/utils/ZipUtil.py
 -rw-rw-rw-  2.0 fat       52 b- defN 20-Sep-22 11:05 JoTools/utils/__init__.py
--rw-rw-rw-  2.0 fat      679 b- defN 23-Jun-05 11:53 JoUtil-1.3.2.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 23-Jun-05 11:53 JoUtil-1.3.2.dist-info/WHEEL
--rw-rw-rw-  2.0 fat      168 b- defN 23-Jun-05 11:53 JoUtil-1.3.2.dist-info/top_level.txt
-?rw-rw-r--  2.0 fat     9080 b- defN 23-Jun-05 11:53 JoUtil-1.3.2.dist-info/RECORD
-106 files, 20008660 bytes uncompressed, 10373892 bytes compressed:  48.2%
+-rw-rw-rw-  2.0 fat      679 b- defN 23-Jul-07 04:07 JoUtil-1.3.3.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 23-Jul-07 04:07 JoUtil-1.3.3.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat      168 b- defN 23-Jul-07 04:07 JoUtil-1.3.3.dist-info/top_level.txt
+?rw-rw-r--  2.0 fat     9080 b- defN 23-Jul-07 04:07 JoUtil-1.3.3.dist-info/RECORD
+106 files, 20009543 bytes uncompressed, 10374078 bytes compressed:  48.2%
```

## zipnote {}

```diff
@@ -300,20 +300,20 @@
 
 Filename: JoTools/utils/ZipUtil.py
 Comment: 
 
 Filename: JoTools/utils/__init__.py
 Comment: 
 
-Filename: JoUtil-1.3.2.dist-info/METADATA
+Filename: JoUtil-1.3.3.dist-info/METADATA
 Comment: 
 
-Filename: JoUtil-1.3.2.dist-info/WHEEL
+Filename: JoUtil-1.3.3.dist-info/WHEEL
 Comment: 
 
-Filename: JoUtil-1.3.2.dist-info/top_level.txt
+Filename: JoUtil-1.3.3.dist-info/top_level.txt
 Comment: 
 
-Filename: JoUtil-1.3.2.dist-info/RECORD
+Filename: JoUtil-1.3.3.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## JoTools/txkjRes/deteRes.py

```diff
@@ -835,15 +835,15 @@
                 cv2.rectangle(img, c1, c2, each_color, -1)  # filled
                 cv2.putText(img, '{}: {:.0%}'.format(str(each_res.tag), float(each_res.conf)), (c1[0], c1[1] - 2), 0, float(tl) / 3, [0, 0, 0], thickness=tf, lineType=cv2.FONT_HERSHEY_SIMPLEX)
 
                 # todo 得到小矩形的范围，再画上即可
                 # cv2.fillPoly(img, [pts], color=[0,0,255])
 
         # 保存图片，解决保存中文乱码问题
-        if save_path is not None:
+        if save_path is not None and save_path != "":
             cv2.imencode('.jpg', img)[1].tofile(save_path)
         return img
 
     def show_dete_res(self, color_dict, assign_img=None):
 
         if isinstance(assign_img, np.ndarray):
             bg = assign_img
@@ -1126,14 +1126,37 @@
                     new_dete_res.add_obj_2(each_dete_obj)
         if update:
             self._alarms = new_dete_res._alarms
             return self
         else:
             return new_dete_res
 
+    def keep_only_by_conf(self, update=True, method="max"):
+        # 只保留置信度最大的那个 obj
+        if len(self._alarms) <= 0:
+            raise ValueError("obj <= 0")
+        else:
+            temp = self.deep_copy(copy_img=False)
+            if method == "max":
+                temp.sort_by_func(lambda x:x.conf, reverse=True)
+            else:
+                temp.sort_by_func(lambda x:x.conf, reverse=False)
+            temp.reset_alarms([temp.alarms[0]])
+            if update:
+                self._alarms = temp.alarms
+                return self
+            else:
+                return temp
+
+    def keep_only_by_conf_max(self, update=True):
+        return self.keep_only_by_conf(update, method="max")
+
+    def keep_only_by_conf_min(self, update=True):
+        return self.keep_only_by_conf(update, method="min")
+
     # ----------------------------------------------- useful -----------------------------------------------------------
 
     def split_by_tags(self, *args):
         """将 deteRes 按照指定的标签进行分割为几部分"""
         res = []
         for each_tag_list in args:
             each_dete_res = self.deep_copy(copy_img=False)
```

## Comparing `JoUtil-1.3.2.dist-info/METADATA` & `JoUtil-1.3.3.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: JoUtil
-Version: 1.3.2
+Version: 1.3.3
 Summary: a tools for TXKJ algo
 Home-page: https://github.com/newjokker/JoUtil.git
 Author: jokker
 Author-email: 18761609908@163.com
 License: UNKNOWN
 Platform: UNKNOWN
 Requires: numpy
```

## Comparing `JoUtil-1.3.2.dist-info/RECORD` & `JoUtil-1.3.3.dist-info/RECORD`

 * *Files 1% similar despite different names*

```diff
@@ -33,15 +33,15 @@
 JoTools/txkj/ucGenerator.py,sha256=z48VwL324fS8DDoH4wAyC0ytvGIfsUyA76jox-2GcW8,7446
 JoTools/txkj/xml_to_yolo.py,sha256=XKBOq-Xp3-qyAzkQLkR8k5BDpjIfxIE0cgjSUxV0dPE,1100
 JoTools/txkjRes/AllRes.py,sha256=9qFf8LHid6pavNAVCQA8pFXl5nRzR7Z6ZfBVlxIHjZU,11730
 JoTools/txkjRes/__init__.py,sha256=2-X8FrfpKCxKhIKegBOvJcDBD4vAC_N3kXfRK14Ohyo,353
 JoTools/txkjRes/configOpt.py,sha256=RcCj1bxiUJytYl-gtavXcaQ9qIDhIf-2-RAaUw-a5KQ,447
 JoTools/txkjRes/deteAngleObj.py,sha256=frGmwpTnaP-9PXcs1uGm33fKLOPVz5LUiceMhuKRKw8,5952
 JoTools/txkjRes/deteObj.py,sha256=c4ePOIoV6sHARqhF07e4_YyouW3U8l9NDNoNwVioMrQ,13235
-JoTools/txkjRes/deteRes.py,sha256=F7l4LFmSAC5rS6t5Wz_7S7wp5X8y96ampw_bIPE9jnE,79724
+JoTools/txkjRes/deteRes.py,sha256=Sm6-uCbts3sc62NkKrZZhKahvSbryC8dIYNTV4gbQ6Y,80607
 JoTools/txkjRes/deteSegmentObj.py,sha256=rbfbyRUb7ZGLf7iQSZqKCGamiAeAZ3WjOEI46KxN7fg,7181
 JoTools/txkjRes/deteXml.py,sha256=_4q2C41LgIQEr9DW-d5rTjAVuXAC-QH0ObutdwpPjrY,13005
 JoTools/txkjRes/lineRes.py,sha256=1vNEH6X6AnIxIMoaPqlez20JMzPkZz39spmNcwND3kE,151
 JoTools/txkjRes/parseJson.py,sha256=YMHmBFUSj6kP0Q6cI-z2_Wiv9q9IgN6xoPcmPn38I5k,2523
 JoTools/txkjRes/pointRes.py,sha256=88e6WHGIyVDIxFnsnimfuJPVO9lvjwZYCk-hBaHbGpA,10124
 JoTools/txkjRes/pointXml.py,sha256=TWpiYZC1u1zqD6eYWZhAmoHeIj1c95Fp_Tw-kXWtluc,99
 JoTools/txkjRes/postUtil.py,sha256=ednj3AZkuFXWq4Y2PEwKx35TJsnQEHVV7TAK12Zrkl0,3066
@@ -96,11 +96,11 @@
 JoTools/utils/TimeUtil.py,sha256=ddE2psXuBQnDUgRw-huUN8tIY72xtQb_oDf0siZiLMs,1119
 JoTools/utils/TxtUtil.py,sha256=EKTG0BAPskgRTvtxuanXrEcCgsl5IhXJsdINsCi9j0Y,1976
 JoTools/utils/VideoUtilCV.py,sha256=OnUMz46mHc1b33e2EC5uU1R65kdPQfF8q2cy0g-2AJM,8044
 JoTools/utils/XmlUtil.py,sha256=Cef9RHgdjhjh374InXb8IjxDpPiAjL2zKESgZKKfSmU,5034
 JoTools/utils/YamlUtil.py,sha256=FS4b3rPAqs303kRt5dK1EeWEip2Zg0RzriGsYJXhHlg,405
 JoTools/utils/ZipUtil.py,sha256=jJUIYu-xfLlVaqefyKLuiGqlM0gl4odA_CfYtMd843o,2614
 JoTools/utils/__init__.py,sha256=83-0sT2JweSlm809BHNBvV-RogYuV3Qw_YwjwlgIOHQ,52
-JoUtil-1.3.2.dist-info/METADATA,sha256=7sM_2zRG0lgGBEHmHqNk1waNag3l_I1w1iwsZQFOF0U,679
-JoUtil-1.3.2.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-JoUtil-1.3.2.dist-info/top_level.txt,sha256=FAVoqmuyobk4Me6xE5VlG0YVE5Cw4IfI62vAotZ3mKw,168
-JoUtil-1.3.2.dist-info/RECORD,,
+JoUtil-1.3.3.dist-info/METADATA,sha256=l-iSj92dnLWSOa2I_FyUkkihhLtnG1F6shU3ryGflm4,679
+JoUtil-1.3.3.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+JoUtil-1.3.3.dist-info/top_level.txt,sha256=FAVoqmuyobk4Me6xE5VlG0YVE5Cw4IfI62vAotZ3mKw,168
+JoUtil-1.3.3.dist-info/RECORD,,
```

